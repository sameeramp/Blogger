{"ast":null,"code":"import _slicedToArray from \"/home/sameeramp/Desktop/Blogger/Blogger_Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/home/sameeramp/Desktop/Blogger/Blogger_Frontend/src/components/login/Component.jsx\";\nimport React from 'react';\nimport { useState, useEffect, useReducer } from \"react\";\nimport \"../shared/styles/Authentication.css\";\nimport { ErrorMsg, Heading2, InputField, Label, SubmitButton } from \"../shared/components\";\nimport { useFocus } from \"../customHooks\";\nimport { changeToSmallCase, formReducer, isValidEmail, isValidPasswrd, trimElement } from \"../shared/utils\";\nimport { AUTH_ERROR_LOGIN, BUTTON_NAME, EMAIL_ERROR, EMAIL_INPUT_NAME, EMAIL_PLACEHOLDER, LOGIN_HEADING, FIELD_NULL_ERROR, PASSWORD_ERROR, PASSWORD_INPUT_NAME, PASSWORD_PLACEHOLDER, HOME, REGISTER } from \"../constants\";\nimport { reset, signin } from \"../../features/auth/authSlice\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, useNavigate } from \"react-router-dom\";\nvar initialState = {\n  email: \"\",\n  password: \"\"\n};\nexport var Login = function Login() {\n  var navigate = useNavigate();\n  var reduxDispatch = useDispatch();\n  var _useReducer = useReducer(formReducer, initialState),\n    _useReducer2 = _slicedToArray(_useReducer, 2),\n    formData = _useReducer2[0],\n    dispatch = _useReducer2[1];\n  var _useSelector = useSelector(function (state) {\n      return state.auth;\n    }),\n    user = _useSelector.user,\n    isError = _useSelector.isError;\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    error = _useState2[0],\n    setError = _useState2[1];\n  var handleInputChange = function handleInputChange(event) {\n    dispatch({\n      type: \"SET_FIELD_VALUE\",\n      fieldName: event.target.name,\n      fieldValue: event.target.value\n    });\n  };\n  var handleClick = function handleClick(e) {\n    e.preventDefault();\n    var isMailContent = trimElement(formData.email);\n    var isPasswrdContent = trimElement(formData.password);\n    if (!isMailContent || !isPasswrdContent) {\n      setError(FIELD_NULL_ERROR);\n    } else {\n      var isMail = isValidEmail(formData.email);\n      var isPasswrd = isValidPasswrd(formData.password);\n      if (!isMail) {\n        setError(EMAIL_ERROR);\n      } else if (!isPasswrd) {\n        setError(PASSWORD_ERROR);\n      } else {\n        var userData = {\n          email: formData.email,\n          password: formData.password\n        };\n        reduxDispatch(signin(userData));\n        dispatch({\n          type: \"RESET_FORM\"\n        });\n      }\n    }\n  };\n  useEffect(function () {\n    if (isError) setError(AUTH_ERROR_LOGIN);\n  }, [isError]);\n  useEffect(function () {\n    if (user) navigate(HOME);\n  }, [user]);\n  useEffect(function () {\n    var timer = setTimeout(function () {\n      setError(\"\");\n      reduxDispatch(reset());\n    }, 3000);\n    return function () {\n      clearTimeout(timer);\n    };\n  }, [error]);\n  var inputRef = useFocus();\n  var mail = changeToSmallCase(EMAIL_INPUT_NAME);\n  var passwrd = changeToSmallCase(PASSWORD_INPUT_NAME);\n  var btn = changeToSmallCase(BUTTON_NAME);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Heading2, {\n    heading: LOGIN_HEADING,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    htmlFor: mail,\n    label: EMAIL_INPUT_NAME,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(InputField, {\n    value: formData.email,\n    ref: inputRef,\n    onChange: handleInputChange,\n    type: mail,\n    id: mail,\n    name: mail,\n    placeholder: EMAIL_PLACEHOLDER,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Label, {\n    htmlFor: passwrd,\n    label: PASSWORD_INPUT_NAME,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(InputField, {\n    value: formData.password,\n    focus: false,\n    onChange: handleInputChange,\n    type: passwrd,\n    id: passwrd,\n    name: passwrd,\n    placeholder: PASSWORD_PLACEHOLDER,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }\n  }), error && /*#__PURE__*/React.createElement(ErrorMsg, {\n    msg: error,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(SubmitButton, {\n    onClick: handleClick,\n    type: btn,\n    name: BUTTON_NAME,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"link\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: REGISTER,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  }, \"Not registered yet?\"))));\n};","map":{"version":3,"names":["React","useState","useEffect","useReducer","ErrorMsg","Heading2","InputField","Label","SubmitButton","useFocus","changeToSmallCase","formReducer","isValidEmail","isValidPasswrd","trimElement","AUTH_ERROR_LOGIN","BUTTON_NAME","EMAIL_ERROR","EMAIL_INPUT_NAME","EMAIL_PLACEHOLDER","LOGIN_HEADING","FIELD_NULL_ERROR","PASSWORD_ERROR","PASSWORD_INPUT_NAME","PASSWORD_PLACEHOLDER","HOME","REGISTER","reset","signin","useDispatch","useSelector","Link","useNavigate","initialState","email","password","Login","navigate","reduxDispatch","_useReducer","_useReducer2","_slicedToArray","formData","dispatch","_useSelector","state","auth","user","isError","_useState","_useState2","error","setError","handleInputChange","event","type","fieldName","target","name","fieldValue","value","handleClick","e","preventDefault","isMailContent","isPasswrdContent","isMail","isPasswrd","userData","timer","setTimeout","clearTimeout","inputRef","mail","passwrd","btn","createElement","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","heading","className","htmlFor","label","ref","onChange","id","placeholder","focus","msg","onClick","to"],"sources":["/home/sameeramp/Desktop/Blogger/Blogger_Frontend/src/components/login/Component.jsx"],"sourcesContent":["import React from 'react';\nimport { useState, useEffect, useReducer } from \"react\";\nimport \"../shared/styles/Authentication.css\";\nimport {\n  ErrorMsg,\n  Heading2,\n  InputField,\n  Label,\n  SubmitButton,\n} from \"../shared/components\";\nimport { useFocus } from \"../customHooks\";\nimport {\n  changeToSmallCase,\n  formReducer,\n  isValidEmail,\n  isValidPasswrd,\n  trimElement,\n} from \"../shared/utils\";\nimport {\n  AUTH_ERROR_LOGIN,\n  BUTTON_NAME,\n  EMAIL_ERROR,\n  EMAIL_INPUT_NAME,\n  EMAIL_PLACEHOLDER,\n  LOGIN_HEADING,\n  FIELD_NULL_ERROR,\n  PASSWORD_ERROR,\n  PASSWORD_INPUT_NAME,\n  PASSWORD_PLACEHOLDER,\n  HOME,\n  REGISTER,\n} from \"../constants\";\n\nimport { reset, signin } from \"../../features/auth/authSlice\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, useNavigate } from \"react-router-dom\";\n\nconst initialState = {\n  email: \"\",\n  password: \"\",\n};\n\nexport const Login = () => {\n  const navigate = useNavigate();\n  const reduxDispatch = useDispatch();\n  const [formData, dispatch] = useReducer(formReducer, initialState);\n  const { user, isError } = useSelector((state) => state.auth);\n  const [error, setError] = useState(\"\");\n\n  const handleInputChange = (event) => {\n    dispatch({\n      type: \"SET_FIELD_VALUE\",\n      fieldName: event.target.name,\n      fieldValue: event.target.value,\n    });\n  };\n\n  const handleClick = (e) => {\n    e.preventDefault();\n    const isMailContent = trimElement(formData.email);\n    const isPasswrdContent = trimElement(formData.password);\n    if (!isMailContent || !isPasswrdContent) {\n      setError(FIELD_NULL_ERROR);\n    } else {\n      const isMail = isValidEmail(formData.email);\n      const isPasswrd = isValidPasswrd(formData.password);\n      if (!isMail) {\n        setError(EMAIL_ERROR);\n      } else if (!isPasswrd) {\n        setError(PASSWORD_ERROR);\n      } else {\n        const userData = {\n          email: formData.email,\n          password: formData.password,\n        };\n\n        reduxDispatch(signin(userData));\n        dispatch({ type: \"RESET_FORM\" });\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (isError) setError(AUTH_ERROR_LOGIN);\n  }, [isError]);\n\n  useEffect(() => {\n    if (user) navigate(HOME);\n  }, [user]);\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setError(\"\");\n      reduxDispatch(reset());\n    }, 3000);\n\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [error]);\n\n  const inputRef = useFocus();\n  const mail = changeToSmallCase(EMAIL_INPUT_NAME);\n  const passwrd = changeToSmallCase(PASSWORD_INPUT_NAME);\n  const btn = changeToSmallCase(BUTTON_NAME);\n\n  return (\n    <div>\n      <Heading2 heading={LOGIN_HEADING} />\n      <form className=\"container\">\n        <Label htmlFor={mail} label={EMAIL_INPUT_NAME} />\n        <InputField\n          value={formData.email}\n          ref={inputRef}\n          onChange={handleInputChange}\n          type={mail}\n          id={mail}\n          name={mail}\n          placeholder={EMAIL_PLACEHOLDER}\n        />\n\n        <Label htmlFor={passwrd} label={PASSWORD_INPUT_NAME} />\n        <InputField\n          value={formData.password}\n          focus={false}\n          onChange={handleInputChange}\n          type={passwrd}\n          id={passwrd}\n          name={passwrd}\n          placeholder={PASSWORD_PLACEHOLDER}\n        />\n\n        {error && <ErrorMsg msg={error} />}\n\n        <SubmitButton onClick={handleClick} type={btn} name={BUTTON_NAME} />\n        <div className=\"link\">\n          <Link to={REGISTER}>Not registered yet?</Link>\n        </div>\n      </form>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}