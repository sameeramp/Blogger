{"ast":null,"code":"var _jsxFileName = \"/home/sameeramp/Desktop/Blogger/Blogger_Frontend/src/components/login/Component.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useState, useEffect, useReducer } from \"react\";\nimport \"../shared/styles/Authentication.css\";\nimport { ErrorMsg, Heading2, InputField, Label, SubmitButton } from \"../shared/components\";\nimport { useFocus } from \"../customHooks\";\nimport { changeToSmallCase, formReducer, isValidEmail, isValidPasswrd, trimElement } from \"../shared/utils\";\nimport { AUTH_ERROR_LOGIN, BUTTON_NAME, EMAIL_ERROR, EMAIL_INPUT_NAME, EMAIL_PLACEHOLDER, LOGIN_HEADING, FIELD_NULL_ERROR, PASSWORD_ERROR, PASSWORD_INPUT_NAME, PASSWORD_PLACEHOLDER, HOME, REGISTER } from \"../constants\";\nimport { reset, signin } from \"../../features/auth/authSlice\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  email: \"\",\n  password: \"\"\n};\nexport const Login = () => {\n  _s();\n  const navigate = useNavigate();\n  const reduxDispatch = useDispatch();\n  const [formData, dispatch] = useReducer(formReducer, initialState);\n  const {\n    user,\n    isError\n  } = useSelector(state => state.auth);\n  const [error, setError] = useState(\"\");\n  const handleInputChange = event => {\n    dispatch({\n      type: \"SET_FIELD_VALUE\",\n      fieldName: event.target.name,\n      fieldValue: event.target.value\n    });\n  };\n  const handleClick = e => {\n    e.preventDefault();\n    const isMailContent = trimElement(formData.email);\n    const isPasswrdContent = trimElement(formData.password);\n    if (!isMailContent || !isPasswrdContent) {\n      setError(FIELD_NULL_ERROR);\n    } else {\n      const isMail = isValidEmail(formData.email);\n      const isPasswrd = isValidPasswrd(formData.password);\n      if (!isMail) {\n        setError(EMAIL_ERROR);\n      } else if (!isPasswrd) {\n        setError(PASSWORD_ERROR);\n      } else {\n        const userData = {\n          email: formData.email,\n          password: formData.password\n        };\n        reduxDispatch(signin(userData));\n        dispatch({\n          type: \"RESET_FORM\"\n        });\n      }\n    }\n  };\n  useEffect(() => {\n    if (isError) setError(AUTH_ERROR_LOGIN);\n  }, [isError]);\n  useEffect(() => {\n    if (user) navigate(HOME);\n  }, [user]);\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setError(\"\");\n      reduxDispatch(reset());\n    }, 3000);\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [error]);\n  const inputRef = useFocus();\n  const mail = changeToSmallCase(EMAIL_INPUT_NAME);\n  const passwrd = changeToSmallCase(PASSWORD_INPUT_NAME);\n  const btn = changeToSmallCase(BUTTON_NAME);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Heading2, {\n      heading: LOGIN_HEADING\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(Label, {\n        htmlFor: mail,\n        label: EMAIL_INPUT_NAME\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        value: formData.email,\n        ref: inputRef,\n        onChange: handleInputChange,\n        type: mail,\n        id: mail,\n        name: mail,\n        placeholder: EMAIL_PLACEHOLDER\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Label, {\n        htmlFor: passwrd,\n        label: PASSWORD_INPUT_NAME\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        value: formData.password,\n        focus: false,\n        onChange: handleInputChange,\n        type: passwrd,\n        id: passwrd,\n        name: passwrd,\n        placeholder: PASSWORD_PLACEHOLDER\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(ErrorMsg, {\n        msg: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(SubmitButton, {\n        onClick: handleClick,\n        type: btn,\n        name: BUTTON_NAME\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"link\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: REGISTER,\n          children: \"Not registered yet?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"iyCINcoavo48dpaBitR1dIMI1B0=\", false, function () {\n  return [useNavigate, useDispatch, useSelector, useFocus];\n});\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useEffect","useReducer","ErrorMsg","Heading2","InputField","Label","SubmitButton","useFocus","changeToSmallCase","formReducer","isValidEmail","isValidPasswrd","trimElement","AUTH_ERROR_LOGIN","BUTTON_NAME","EMAIL_ERROR","EMAIL_INPUT_NAME","EMAIL_PLACEHOLDER","LOGIN_HEADING","FIELD_NULL_ERROR","PASSWORD_ERROR","PASSWORD_INPUT_NAME","PASSWORD_PLACEHOLDER","HOME","REGISTER","reset","signin","useDispatch","useSelector","Link","useNavigate","jsxDEV","_jsxDEV","initialState","email","password","Login","_s","navigate","reduxDispatch","formData","dispatch","user","isError","state","auth","error","setError","handleInputChange","event","type","fieldName","target","name","fieldValue","value","handleClick","e","preventDefault","isMailContent","isPasswrdContent","isMail","isPasswrd","userData","timer","setTimeout","clearTimeout","inputRef","mail","passwrd","btn","children","heading","fileName","_jsxFileName","lineNumber","columnNumber","className","htmlFor","label","ref","onChange","id","placeholder","focus","msg","onClick","to","_c","$RefreshReg$"],"sources":["/home/sameeramp/Desktop/Blogger/Blogger_Frontend/src/components/login/Component.jsx"],"sourcesContent":["import React from 'react';\nimport { useState, useEffect, useReducer } from \"react\";\nimport \"../shared/styles/Authentication.css\";\nimport {\n  ErrorMsg,\n  Heading2,\n  InputField,\n  Label,\n  SubmitButton,\n} from \"../shared/components\";\nimport { useFocus } from \"../customHooks\";\nimport {\n  changeToSmallCase,\n  formReducer,\n  isValidEmail,\n  isValidPasswrd,\n  trimElement,\n} from \"../shared/utils\";\nimport {\n  AUTH_ERROR_LOGIN,\n  BUTTON_NAME,\n  EMAIL_ERROR,\n  EMAIL_INPUT_NAME,\n  EMAIL_PLACEHOLDER,\n  LOGIN_HEADING,\n  FIELD_NULL_ERROR,\n  PASSWORD_ERROR,\n  PASSWORD_INPUT_NAME,\n  PASSWORD_PLACEHOLDER,\n  HOME,\n  REGISTER,\n} from \"../constants\";\n\nimport { reset, signin } from \"../../features/auth/authSlice\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, useNavigate } from \"react-router-dom\";\n\nconst initialState = {\n  email: \"\",\n  password: \"\",\n};\n\nexport const Login = () => {\n  const navigate = useNavigate();\n  const reduxDispatch = useDispatch();\n  const [formData, dispatch] = useReducer(formReducer, initialState);\n  const { user, isError } = useSelector((state) => state.auth);\n  const [error, setError] = useState(\"\");\n\n  const handleInputChange = (event) => {\n    dispatch({\n      type: \"SET_FIELD_VALUE\",\n      fieldName: event.target.name,\n      fieldValue: event.target.value,\n    });\n  };\n\n  const handleClick = (e) => {\n    e.preventDefault();\n    const isMailContent = trimElement(formData.email);\n    const isPasswrdContent = trimElement(formData.password);\n    if (!isMailContent || !isPasswrdContent) {\n      setError(FIELD_NULL_ERROR);\n    } else {\n      const isMail = isValidEmail(formData.email);\n      const isPasswrd = isValidPasswrd(formData.password);\n      if (!isMail) {\n        setError(EMAIL_ERROR);\n      } else if (!isPasswrd) {\n        setError(PASSWORD_ERROR);\n      } else {\n        const userData = {\n          email: formData.email,\n          password: formData.password,\n        };\n\n        reduxDispatch(signin(userData));\n        dispatch({ type: \"RESET_FORM\" });\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (isError) setError(AUTH_ERROR_LOGIN);\n  }, [isError]);\n\n  useEffect(() => {\n    if (user) navigate(HOME);\n  }, [user]);\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setError(\"\");\n      reduxDispatch(reset());\n    }, 3000);\n\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [error]);\n\n  const inputRef = useFocus();\n  const mail = changeToSmallCase(EMAIL_INPUT_NAME);\n  const passwrd = changeToSmallCase(PASSWORD_INPUT_NAME);\n  const btn = changeToSmallCase(BUTTON_NAME);\n\n  return (\n    <div>\n      <Heading2 heading={LOGIN_HEADING} />\n      <form className=\"container\">\n        <Label htmlFor={mail} label={EMAIL_INPUT_NAME} />\n        <InputField\n          value={formData.email}\n          ref={inputRef}\n          onChange={handleInputChange}\n          type={mail}\n          id={mail}\n          name={mail}\n          placeholder={EMAIL_PLACEHOLDER}\n        />\n\n        <Label htmlFor={passwrd} label={PASSWORD_INPUT_NAME} />\n        <InputField\n          value={formData.password}\n          focus={false}\n          onChange={handleInputChange}\n          type={passwrd}\n          id={passwrd}\n          name={passwrd}\n          placeholder={PASSWORD_PLACEHOLDER}\n        />\n\n        {error && <ErrorMsg msg={error} />}\n\n        <SubmitButton onClick={handleClick} type={btn} name={BUTTON_NAME} />\n        <div className=\"link\">\n          <Link to={REGISTER}>Not registered yet?</Link>\n        </div>\n      </form>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}